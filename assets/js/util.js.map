{"version":3,"sources":["../../ES6Javascript/util.js"],"names":["$","fn","navList","$this","$a","find","b","each","indent","Math","max","parents","length","href","attr","target","push","text","join","panel","userConfig","i","$body","$window","window","id","config","extend","delay","hideOnClick","hideOnEscape","hideOnSwipe","resetScroll","resetForms","side","visibleClass","_hide","event","hasClass","preventDefault","stopPropagation","removeClass","setTimeout","scrollTop","reset","css","on","open","location","touchPosX","originalEvent","touches","pageX","touchPosY","pageY","diffX","diffY","th","outerHeight","ts","get","scrollHeight","result","boundary","delta","toggleClass","keyCode","placeholder","document","createElement","val","addClass","match","x","append","clone","remove","html","replace","insertAfter","hide","parent","show","focus","type","prioritize","$elements","condition","key","$e","$p","$parent","data","prev","prependTo","removeData","jQuery"],"mappings":"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","file":"util.js","sourcesContent":["( function( $ ){\r\n    \r\n    /**\r\n     * Generate an indented list of links from a nav. Meant for use with\r\n     * panel().\r\n     * @return {jQuery} jQuery object.\r\n     */\r\n    $.fn.navList = function(){\r\n        \r\n        var $this = $( this );\r\n        $a = $this.find( \"a\" ), b = [];\r\n        \r\n        $a.each( function(){\r\n            \r\n            var $this = $( this ),\r\n                indent = Math.max( 0, $this.parents( \"li\" ).length - 1 ),\r\n                href = $this.attr( \"href\" ), target = $this.attr( \"target\" );\r\n            \r\n            b.push( \"<a \" + \"class=\\\"link depth-\" + indent + \"\\\"\" +\r\n                ( ( typeof target !== \"undefined\" && target != \"\" ) ?\r\n                    \" target=\\\"\" + target + \"\\\"\" : \"\" ) +\r\n                ( ( typeof href !== \"undefined\" && href != \"\" ) ?\r\n                    \" href=\\\"\" + href + \"\\\"\" : \"\" ) + \">\" +\r\n                \"<span class=\\\"indent-\" + indent + \"\\\"></span>\" + $this.text() +\r\n                \"</a>\" );\r\n            \r\n        } );\r\n        \r\n        return b.join( \"\" );\r\n        \r\n    };\r\n    \r\n    /**\r\n     * Panel-ify an element.\r\n     * @param {object} userConfig User config.\r\n     * @return {jQuery} jQuery object.\r\n     */\r\n    $.fn.panel = function( userConfig ){\r\n        \r\n        // No elements?\r\n        if( this.length == 0 ){\r\n            return $this;\r\n        }\r\n        \r\n        // Multiple elements?\r\n        if( this.length > 1 ){\r\n            \r\n            for( var i = 0; i < this.length; i++ ){\r\n                $( this[ i ] )\r\n                    .panel( userConfig );\r\n            }\r\n            \r\n            return $this;\r\n            \r\n        }\r\n        \r\n        // Vars.\r\n        var $this = $( this ), $body = $( \"body\" ), $window = $( window ),\r\n            id = $this.attr( \"id\" ), config;\r\n        \r\n        // Config.\r\n        config = $.extend( {\r\n            \r\n            // Delay.\r\n            delay: 0,\r\n            \r\n            // Hide panel on link click.\r\n            hideOnClick: false,\r\n            \r\n            // Hide panel on escape keypress.\r\n            hideOnEscape: false,\r\n            \r\n            // Hide panel on swipe.\r\n            hideOnSwipe: false,\r\n            \r\n            // Reset scroll position on hide.\r\n            resetScroll: false,\r\n            \r\n            // Reset forms on hide.\r\n            resetForms: false,\r\n            \r\n            // Side of viewport the panel will appear.\r\n            side: null,\r\n            \r\n            // Target element for \"class\".\r\n            target: $this,\r\n            \r\n            // Class to toggle.\r\n            visibleClass: \"visible\"\r\n            \r\n        }, userConfig );\r\n        \r\n        // Expand \"target\" if it's not a jQuery object already.\r\n        if( typeof config.target != \"jQuery\" ){\r\n            config.target = $( config.target );\r\n        }\r\n        \r\n        // Panel.\r\n        \r\n        // Methods.\r\n        $this._hide = function( event ){\r\n            \r\n            // Already hidden? Bail.\r\n            if( !config.target.hasClass( config.visibleClass ) ){\r\n                return;\r\n            }\r\n            \r\n            // If an event was provided, cancel it.\r\n            if( event ){\r\n                \r\n                event.preventDefault();\r\n                event.stopPropagation();\r\n                \r\n            }\r\n            \r\n            // Hide.\r\n            config.target.removeClass( config.visibleClass );\r\n            \r\n            // Post-hide stuff.\r\n            window.setTimeout( function(){\r\n                \r\n                // Reset scroll position.\r\n                if( config.resetScroll ){\r\n                    $this.scrollTop( 0 );\r\n                }\r\n                \r\n                // Reset forms.\r\n                if( config.resetForms ){\r\n                    $this.find( \"form\" ).each( function(){\r\n                        this.reset();\r\n                    } );\r\n                }\r\n                \r\n            }, config.delay );\r\n            \r\n        };\r\n        \r\n        // Vendor fixes.\r\n        $this\r\n            .css( \"-ms-overflow-style\", \"-ms-autohiding-scrollbar\" )\r\n            .css( \"-webkit-overflow-scrolling\", \"touch\" );\r\n        \r\n        // Hide on click.\r\n        if( config.hideOnClick ){\r\n            \r\n            $this.find( \"a\" )\r\n                .css( \"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\" );\r\n            \r\n            $this\r\n                .on( \"click\", \"a\", function( event ){\r\n                    \r\n                    var $a = $( this ), href = $a.attr( \"href\" ),\r\n                        target = $a.attr( \"target\" );\r\n                    \r\n                    if( !href || href == \"#\" || href == \"\" || href == \"#\" +\r\n                        id ){\r\n                        return;\r\n                    }\r\n                    \r\n                    // Cancel original event.\r\n                    event.preventDefault();\r\n                    event.stopPropagation();\r\n                    \r\n                    // Hide panel.\r\n                    $this._hide();\r\n                    \r\n                    // Redirect to href.\r\n                    window.setTimeout( function(){\r\n                        \r\n                        if( target == \"_blank\" ){\r\n                            window.open( href );\r\n                        }else{\r\n                            window.location.href = href;\r\n                        }\r\n                        \r\n                    }, config.delay + 10 );\r\n                    \r\n                } );\r\n            \r\n        }\r\n        \r\n        // Event: Touch stuff.\r\n        $this.on( \"touchstart\", function( event ){\r\n            \r\n            $this.touchPosX = event.originalEvent.touches[ 0 ].pageX;\r\n            $this.touchPosY = event.originalEvent.touches[ 0 ].pageY;\r\n            \r\n        } );\r\n        \r\n        $this.on( \"touchmove\", function( event ){\r\n            \r\n            if( $this.touchPosX === null || $this.touchPosY === null ){\r\n                return;\r\n            }\r\n            \r\n            var diffX = $this.touchPosX -\r\n                event.originalEvent.touches[ 0 ].pageX,\r\n                diffY = $this.touchPosY -\r\n                    event.originalEvent.touches[ 0 ].pageY,\r\n                th = $this.outerHeight(),\r\n                ts = ( $this.get( 0 ).scrollHeight - $this.scrollTop() );\r\n            \r\n            // Hide on swipe?\r\n            if( config.hideOnSwipe ){\r\n                \r\n                var result = false, boundary = 20, delta = 50;\r\n                \r\n                switch( config.side ){\r\n                    \r\n                    case \"left\":\r\n                        result = ( diffY < boundary && diffY >\r\n                            ( -1 * boundary ) ) && ( diffX > delta );\r\n                        break;\r\n                    \r\n                    case \"right\":\r\n                        result = ( diffY < boundary && diffY >\r\n                            ( -1 * boundary ) ) && ( diffX < ( -1 * delta ) );\r\n                        break;\r\n                    \r\n                    case \"top\":\r\n                        result = ( diffX < boundary && diffX >\r\n                            ( -1 * boundary ) ) && ( diffY > delta );\r\n                        break;\r\n                    \r\n                    case \"bottom\":\r\n                        result = ( diffX < boundary && diffX >\r\n                            ( -1 * boundary ) ) && ( diffY < ( -1 * delta ) );\r\n                        break;\r\n                    \r\n                    default:\r\n                        break;\r\n                    \r\n                }\r\n                \r\n                if( result ){\r\n                    \r\n                    $this.touchPosX = null;\r\n                    $this.touchPosY = null;\r\n                    $this._hide();\r\n                    \r\n                    return false;\r\n                    \r\n                }\r\n                \r\n            }\r\n            \r\n            // Prevent vertical scrolling past the top or bottom.\r\n            if( ( $this.scrollTop() < 0 && diffY < 0 ) ||\r\n                ( ts > ( th - 2 ) && ts < ( th + 2 ) && diffY > 0 ) ){\r\n                \r\n                event.preventDefault();\r\n                event.stopPropagation();\r\n                \r\n            }\r\n            \r\n        } );\r\n        \r\n        // Event: Prevent certain events inside the panel from bubbling.\r\n        $this.on( \"click touchend touchstart touchmove\", function( event ){\r\n            event.stopPropagation();\r\n        } );\r\n        \r\n        // Event: Hide panel if a child anchor tag pointing to its ID is\r\n        // clicked.\r\n        $this.on( \"click\", \"a[href=\\\"#\" + id + \"\\\"]\", function( event ){\r\n            \r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            \r\n            config.target.removeClass( config.visibleClass );\r\n            \r\n        } );\r\n        \r\n        // Body.\r\n        \r\n        // Event: Hide panel on body click/tap.\r\n        $body.on( \"click touchend\", function( event ){\r\n            $this._hide( event );\r\n        } );\r\n        \r\n        // Event: Toggle.\r\n        $body.on( \"click\", \"a[href=\\\"#\" + id + \"\\\"]\", function( event ){\r\n            \r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            \r\n            config.target.toggleClass( config.visibleClass );\r\n            \r\n        } );\r\n        \r\n        // Window.\r\n        \r\n        // Event: Hide on ESC.\r\n        if( config.hideOnEscape ){\r\n            $window.on( \"keydown\", function( event ){\r\n                \r\n                if( event.keyCode == 27 ){\r\n                    $this._hide( event );\r\n                }\r\n                \r\n            } );\r\n        }\r\n        \r\n        return $this;\r\n        \r\n    };\r\n    \r\n    /**\r\n     * Apply \"placeholder\" attribute polyfill to one or more forms.\r\n     * @return {jQuery} jQuery object.\r\n     */\r\n    $.fn.placeholder = function(){\r\n        \r\n        // Browser natively supports placeholders? Bail.\r\n        if( typeof ( document.createElement( \"input\" ) ).placeholder !=\r\n            \"undefined\" ){\r\n            return $( this );\r\n        }\r\n        \r\n        // No elements?\r\n        if( this.length == 0 ){\r\n            return $this;\r\n        }\r\n        \r\n        // Multiple elements?\r\n        if( this.length > 1 ){\r\n            \r\n            for( var i = 0; i < this.length; i++ ){\r\n                $( this[ i ] ).placeholder();\r\n            }\r\n            \r\n            return $this;\r\n            \r\n        }\r\n        \r\n        // Vars.\r\n        var $this = $( this );\r\n        \r\n        // Text, TextArea.\r\n        $this.find( \"input[type=text],textarea\" )\r\n            .each( function(){\r\n                \r\n                var i = $( this );\r\n                \r\n                if( i.val() == \"\" || i.val() == i.attr( \"placeholder\" ) ){\r\n                    i\r\n                        .addClass( \"polyfill-placeholder\" )\r\n                        .val( i.attr( \"placeholder\" ) );\r\n                }\r\n                \r\n            } )\r\n            .on( \"blur\", function(){\r\n                \r\n                var i = $( this );\r\n                \r\n                if( i.attr( \"name\" ).match( /-polyfill-field$/ ) ){\r\n                    return;\r\n                }\r\n                \r\n                if( i.val() == \"\" ){\r\n                    i\r\n                        .addClass( \"polyfill-placeholder\" )\r\n                        .val( i.attr( \"placeholder\" ) );\r\n                }\r\n                \r\n            } )\r\n            .on( \"focus\", function(){\r\n                \r\n                var i = $( this );\r\n                \r\n                if( i.attr( \"name\" ).match( /-polyfill-field$/ ) ){\r\n                    return;\r\n                }\r\n                \r\n                if( i.val() == i.attr( \"placeholder\" ) ){\r\n                    i\r\n                        .removeClass( \"polyfill-placeholder\" )\r\n                        .val( \"\" );\r\n                }\r\n                \r\n            } );\r\n        \r\n        // Password.\r\n        $this.find( \"input[type=password]\" )\r\n            .each( function(){\r\n                \r\n                var i = $( this );\r\n                var x = $( $( \"<div>\" )\r\n                    .append( i.clone() )\r\n                    .remove()\r\n                    .html()\r\n                    .replace( /type=\"password\"/i, \"type=\\\"text\\\"\" )\r\n                    .replace( /type=password/i, \"type=text\" ) );\r\n                \r\n                if( i.attr( \"id\" ) != \"\" ){\r\n                    x.attr( \"id\", i.attr( \"id\" ) + \"-polyfill-field\" );\r\n                }\r\n                \r\n                if( i.attr( \"name\" ) != \"\" ){\r\n                    x.attr( \"name\", i.attr( \"name\" ) + \"-polyfill-field\" );\r\n                }\r\n                \r\n                x.addClass( \"polyfill-placeholder\" )\r\n                    .val( x.attr( \"placeholder\" ) ).insertAfter( i );\r\n                \r\n                if( i.val() == \"\" ){\r\n                    i.hide();\r\n                }else{\r\n                    x.hide();\r\n                }\r\n                \r\n                i\r\n                    .on( \"blur\", function( event ){\r\n                        \r\n                        event.preventDefault();\r\n                        \r\n                        var x = i.parent()\r\n                            .find( \"input[name=\" + i.attr( \"name\" ) +\r\n                                \"-polyfill-field]\" );\r\n                        \r\n                        if( i.val() == \"\" ){\r\n                            \r\n                            i.hide();\r\n                            x.show();\r\n                            \r\n                        }\r\n                        \r\n                    } );\r\n                \r\n                x\r\n                    .on( \"focus\", function( event ){\r\n                        \r\n                        event.preventDefault();\r\n                        \r\n                        var i = x.parent()\r\n                            .find( \"input[name=\" + x.attr( \"name\" )\r\n                                .replace( \"-polyfill-field\", \"\" ) + \"]\" );\r\n                        \r\n                        x.hide();\r\n                        \r\n                        i\r\n                            .show()\r\n                            .focus();\r\n                        \r\n                    } )\r\n                    .on( \"keypress\", function( event ){\r\n                        \r\n                        event.preventDefault();\r\n                        x.val( \"\" );\r\n                        \r\n                    } );\r\n                \r\n            } );\r\n        \r\n        // Events.\r\n        $this\r\n            .on( \"submit\", function(){\r\n                \r\n                $this.find( \"input[type=text],input[type=password],textarea\" )\r\n                    .each( function( event ){\r\n                        \r\n                        var i = $( this );\r\n                        \r\n                        if( i.attr( \"name\" )\r\n                            .match( /-polyfill-field$/ ) ){\r\n                            i.attr( \"name\", \"\" );\r\n                        }\r\n                        \r\n                        if( i.val() == i.attr( \"placeholder\" ) ){\r\n                            \r\n                            i.removeClass( \"polyfill-placeholder\" );\r\n                            i.val( \"\" );\r\n                            \r\n                        }\r\n                        \r\n                    } );\r\n                \r\n            } )\r\n            .on( \"reset\", function( event ){\r\n                \r\n                event.preventDefault();\r\n                \r\n                $this.find( \"select\" )\r\n                    .val( $( \"option:first\" ).val() );\r\n                \r\n                $this.find( \"input,textarea\" )\r\n                    .each( function(){\r\n                        \r\n                        var i = $( this ), x;\r\n                        \r\n                        i.removeClass( \"polyfill-placeholder\" );\r\n                        \r\n                        switch( this.type ){\r\n                            \r\n                            case \"submit\":\r\n                            case \"reset\":\r\n                                break;\r\n                            \r\n                            case \"password\":\r\n                                i.val( i.attr( \"defaultValue\" ) );\r\n                                \r\n                                x = i.parent()\r\n                                    .find( \"input[name=\" + i.attr( \"name\" ) +\r\n                                        \"-polyfill-field]\" );\r\n                                \r\n                                if( i.val() == \"\" ){\r\n                                    i.hide();\r\n                                    x.show();\r\n                                }else{\r\n                                    i.show();\r\n                                    x.hide();\r\n                                }\r\n                                \r\n                                break;\r\n                            \r\n                            case \"checkbox\":\r\n                            case \"radio\":\r\n                                i.attr( \"checked\", i.attr( \"defaultValue\" ) );\r\n                                break;\r\n                            \r\n                            case \"text\":\r\n                            case \"textarea\":\r\n                                i.val( i.attr( \"defaultValue\" ) );\r\n                                \r\n                                if( i.val() == \"\" ){\r\n                                    i.addClass( \"polyfill-placeholder\" );\r\n                                    i.val( i.attr( \"placeholder\" ) );\r\n                                }\r\n                                \r\n                                break;\r\n                            \r\n                            default:\r\n                                i.val( i.attr( \"defaultValue\" ) );\r\n                                break;\r\n                            \r\n                        }\r\n                    } );\r\n                \r\n            } );\r\n        \r\n        return $this;\r\n        \r\n    };\r\n    \r\n    /**\r\n     * Moves elements to/from the first positions of their respective parents.\r\n     * @param {jQuery} $elements Elements (or selector) to move.\r\n     * @param {bool} condition If true, moves elements to the top. Otherwise,\r\n     *     moves elements back to their original locations.\r\n     */\r\n    $.prioritize = function( $elements, condition ){\r\n        \r\n        var key = \"__prioritize\";\r\n        \r\n        // Expand $elements if it's not already a jQuery object.\r\n        if( typeof $elements != \"jQuery\" ){\r\n            $elements = $( $elements );\r\n        }\r\n        \r\n        // Step through elements.\r\n        $elements.each( function(){\r\n            \r\n            var $e = $( this ), $p, $parent = $e.parent();\r\n            \r\n            // No parent? Bail.\r\n            if( $parent.length == 0 ){\r\n                return;\r\n            }\r\n            \r\n            // Not moved? Move it.\r\n            if( !$e.data( key ) ){\r\n                \r\n                // Condition is false? Bail.\r\n                if( !condition ){\r\n                    return;\r\n                }\r\n                \r\n                // Get placeholder (which will serve as our point of reference\r\n                // for when this element needs to move back).\r\n                $p = $e.prev();\r\n                \r\n                // Couldn't find anything? Means this element's already at the top, so bail.\r\n                if( $p.length == 0 ){\r\n                    return;\r\n                }\r\n                \r\n                // Move element to top of parent.\r\n                $e.prependTo( $parent );\r\n                \r\n                // Mark element as moved.\r\n                $e.data( key, $p );\r\n                \r\n            }\r\n            \r\n            // Moved already?\r\n            else{\r\n                \r\n                // Condition is true? Bail.\r\n                if( condition ){\r\n                    return;\r\n                }\r\n                \r\n                $p = $e.data( key );\r\n                \r\n                // Move element back to its original location (using our placeholder).\r\n                $e.insertAfter( $p );\r\n                \r\n                // Unmark element as moved.\r\n                $e.removeData( key );\r\n                \r\n            }\r\n            \r\n        } );\r\n        \r\n    };\r\n    \r\n} )( jQuery );"]}